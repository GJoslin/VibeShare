(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{2021:function(e,r,n){Promise.resolve().then(n.bind(n,1176))},1176:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return i}});var t=n(7437),a=n(2265),s=n(605),l=n(9376),o=n(4522);function i(){let[e,r]=(0,a.useState)("login"),[n,i]=(0,a.useState)(""),[u,c]=(0,a.useState)(""),[d,p]=(0,a.useState)(""),[g,m]=(0,a.useState)(18),[b,h]=(0,a.useState)(""),x=(0,l.useRouter)(),f=async e=>{e.preventDefault();let r=await (0,s.signIn)("credentials",{redirect:!1,username:n,password:d});(null==r?void 0:r.error)?h("Invalid username or password"):x.push("/profile")},v=async e=>{e.preventDefault();try{await (0,o.r4)(n,u,d,g),await (0,s.signIn)("credentials",{redirect:!1,username:n,password:d}),x.push("/profile")}catch(e){h(e.message)}};return(0,t.jsxs)("div",{className:"max-w-sm mx-auto mt-20 bg-zinc-900 p-6 rounded-xl border border-zinc-700",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-6",children:[(0,t.jsx)("button",{onClick:()=>{r("login"),h("")},className:"w-1/2 py-2 rounded-l-lg ".concat("login"===e?"bg-purple-600 text-white":"bg-zinc-800 text-zinc-400"),children:"Login"}),(0,t.jsx)("button",{onClick:()=>{r("signup"),h("")},className:"w-1/2 py-2 rounded-r-lg ".concat("signup"===e?"bg-purple-600 text-white":"bg-zinc-800 text-zinc-400"),children:"Sign Up"})]}),"login"===e?(0,t.jsxs)("form",{onSubmit:f,className:"flex flex-col gap-4",children:[(0,t.jsx)("input",{type:"text",placeholder:"Username",value:n,onChange:e=>i(e.target.value),className:"p-2 rounded bg-zinc-800 border border-zinc-700"}),(0,t.jsx)("input",{type:"password",placeholder:"Password",value:d,onChange:e=>p(e.target.value),className:"p-2 rounded bg-zinc-800 border border-zinc-700"}),(0,t.jsx)("button",{type:"submit",className:"bg-purple-500 hover:bg-purple-600 text-white py-2 rounded",children:"Login"})]}):(0,t.jsxs)("form",{onSubmit:v,className:"flex flex-col gap-4",children:[(0,t.jsx)("input",{type:"text",placeholder:"Username",value:n,onChange:e=>i(e.target.value),className:"p-2 rounded bg-zinc-800 border border-zinc-700"}),(0,t.jsx)("input",{type:"email",placeholder:"Email",value:u,onChange:e=>c(e.target.value),className:"p-2 rounded bg-zinc-800 border border-zinc-700"}),(0,t.jsx)("input",{type:"password",placeholder:"Password",value:d,onChange:e=>p(e.target.value),className:"p-2 rounded bg-zinc-800 border border-zinc-700"}),(0,t.jsx)("input",{type:"number",placeholder:"Age",value:g,onChange:e=>m(Number(e.target.value)),className:"p-2 rounded bg-zinc-800 border border-zinc-700"}),(0,t.jsx)("button",{type:"submit",className:"bg-purple-500 hover:bg-purple-600 text-white py-2 rounded",children:"Sign Up"})]}),b&&(0,t.jsx)("p",{className:"text-red-500 mt-3",children:b})]})}},4522:function(e,r,n){"use strict";n.d(r,{r4:function(){return a},rC:function(){return s}});let t=[];function a(e,r,n,a){if(a<18)throw Error("Must be 18+ to sign up.");if(t.find(r=>r.username===e))throw Error("Username already exists.");let s={username:e,email:r,password:n,age:a};return t.push(s),s}let s=[{username:"Joslin",email:"joslin@example.com",password:"123456",ageConfirmed:!0},{username:"jane_doe",email:"jane@example.com",password:"abcdef",ageConfirmed:!1}]}},function(e){e.O(0,[307,971,117,744],function(){return e(e.s=2021)}),_N_E=e.O()}]);