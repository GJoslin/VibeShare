(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[676],{4584:function(e,t,n){Promise.resolve().then(n.bind(n,1056))},1056:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var u=n(7437),r=n(2265),l=n(605),o=n(9376),s=n(3055);function i(){let{data:e}=(0,l.useSession)(),t=(0,o.useRouter)(),[n,i]=(0,r.useState)(""),[a,c]=(0,r.useState)(null),[d,f]=(0,r.useState)("");return(0,u.jsxs)("div",{className:"max-w-lg mx-auto mt-12 bg-zinc-900 p-6 rounded-xl border border-zinc-700",children:[(0,u.jsx)("h1",{className:"text-xl font-bold mb-4",children:"Upload Video"}),(0,u.jsxs)("form",{onSubmit:u=>{var r;if(u.preventDefault(),!a)return f("Please select a video file");if(!e)return f("You must be logged in to upload");let l=URL.createObjectURL(a);(0,s.c)(n,l,(null===(r=e.user)||void 0===r?void 0:r.name)||"Anonymous"),t.push("/")},className:"flex flex-col gap-4",children:[(0,u.jsx)("input",{type:"text",placeholder:"Title",value:n,onChange:e=>i(e.target.value),className:"p-2 rounded bg-zinc-800 border border-zinc-700"}),(0,u.jsx)("input",{type:"file",accept:"video/*",onChange:e=>{var t;return c((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},className:"p-2"}),(0,u.jsx)("button",{type:"submit",className:"bg-purple-500 hover:bg-purple-600 text-white py-2 rounded",children:"Upload"})]}),d&&(0,u.jsx)("p",{className:"text-red-500 mt-3",children:d})]})}},3055:function(e,t,n){"use strict";n.d(t,{W:function(){return l},c:function(){return r}});let u=[];function r(e,t,n){let r={id:Date.now().toString(),title:e,url:t,uploader:n};return u.unshift(r),r}function l(){return u}}},function(e){e.O(0,[307,971,117,744],function(){return e(e.s=4584)}),_N_E=e.O()}]);